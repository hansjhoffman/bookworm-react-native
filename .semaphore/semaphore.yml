version: v1.0
name: "Bookworm React Native"
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804

blocks:
  - name: "Dummy"
    task:
      jobs:
        - name: blah
          commands:
            - echo "blah"

# blocks:
#   - name: "Install dependencies"
#     dependencies: []
#     task:
#       jobs:
#         - name: yarn
#           commands:
#             - checkout
#             - nvm use
#             - yarn install
#             - cache store
#
#   - name: "Static analysis"
#     dependencies: ["Install dependencies"]
#     task:
#       prologue:
#         commands:
#           - checkout
#           - nvm use
#           - cache restore
#       secrets:
#         - name: bookworm-react-native
#       jobs:
#         - name: unit tests
#           commands:
#             - yarn test:ci
#             - bash <(curl -s https://codecov.io/bash)

promotions:
  - name: "Android Build"
    pipeline_file: build-android.yml
    auto_promote_on:
      - result: passed
